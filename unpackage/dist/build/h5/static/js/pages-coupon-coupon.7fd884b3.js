(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-coupon-coupon"],{"0e62":function(t,e,i){"use strict";i.r(e);var a=i("9038"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"566c":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/*颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 功能栏字体大小 */\n/*功能栏左侧小图标*/.swiper-box[data-v-647c67ba]{height:calc(100% - 40px)}.swiper-box .tab-content[data-v-647c67ba]{padding:%?25?% 0;font-size:%?28?%;color:#1b1b1b}.row[data-v-647c67ba]{border-radius:%?15?%;margin:0 %?25?%;margin-bottom:%?25?%;height:%?200?%;overflow:hidden;background-color:#fff}.row .list-interval[data-v-647c67ba]{border:1px dashed #ebeef5;height:100%}.row .list-interval .bottom[data-v-647c67ba],.row .list-interval .top[data-v-647c67ba]{border-radius:%?100?%;width:%?30?%;height:%?30?%;position:absolute;background-color:#f8f8f8;right:%?-15?%}.row .list-interval .top[data-v-647c67ba]{top:%?-18?%}.row .list-interval .bottom[data-v-647c67ba]{bottom:%?-18?%}.row .list-money[data-v-647c67ba]{height:100%}.row .list-money uni-image[data-v-647c67ba]{height:100%;width:%?20?%}.row .list-money .list-money-text[data-v-647c67ba]{width:%?220?%;padding:0 %?25?%;text-align:center;color:#909399}.row .list-money .list-money-text .tit[data-v-647c67ba]{padding:%?15?% %?0?%;font-size:%?55?%;font-weight:700}.row .list-money .list-money-text .tit.action[data-v-647c67ba]{color:#fc4141}.row .list-money .list-money-text .price[data-v-647c67ba]{padding-bottom:%?25?%}.row .row_list_right[data-v-647c67ba]{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;padding-left:%?25?%;line-height:1}.row .row_list_right .right_time[data-v-647c67ba]{color:#909399;font-size:%?24?%}.row .row_list_right .right_use[data-v-647c67ba]{margin:%?15?% 0;padding:%?10?%;width:%?140?%;text-align:center;border-radius:%?50?%;color:#fff;font-size:%?20?%}.row .row_list_right .right_use.action[data-v-647c67ba]{background-color:#fc4141}.row .row_list_right .right_use.noAction[data-v-647c67ba]{background-color:#999}.row .row_list_right .right_top[data-v-647c67ba]{margin:%?15?% 0;font-size:%?32?%;height:%?50?%;color:#909399}.row .row_list_right .right_top .right_name[data-v-647c67ba]{font-weight:700}.row .row_list_right .right_top .right_title[data-v-647c67ba]{font-weight:700}.row .row_list_right .right_top .right_title.action[data-v-647c67ba]{color:#606266}.row .iconlocation[data-v-647c67ba]{font-size:%?36?%;color:#909399}.content[data-v-647c67ba],uni-page-body[data-v-647c67ba]{background:#f8f8f8;height:100%}.navbar[data-v-647c67ba]{display:-webkit-box;display:-webkit-flex;display:flex;height:40px;padding:0 5px;background:#fff;box-shadow:0 1px 5px rgba(0,0,0,.06);position:relative;z-index:10}.navbar .nav-item[data-v-647c67ba]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:100%;font-size:15px;color:#303133;position:relative}.navbar .nav-item.current[data-v-647c67ba]{color:#bc253a}.navbar .nav-item.current[data-v-647c67ba]:after{content:"";position:absolute;left:50%;bottom:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:44px;height:0;border-bottom:2px solid #bc253a}\n/* load-more */.uni-load-more[data-v-647c67ba]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}body.?%PAGE?%[data-v-647c67ba]{background:#f8f8f8}',""])},7402:function(t,e,i){"use strict";i.r(e);var a=i("c2c4"),n=i("0e62");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("ca20");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"647c67ba",null,!1,a["a"],r);e["default"]=c.exports},"8f25":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.getCouponsList=o,e.setCoupons=r,e.couponsOrder=s;var n=a(i("04c2"));function o(t,e){return(0,n.default)({url:"/api/coupons/user/"+e,method:"get",data:t})}function r(t){return(0,n.default)({url:"/api/coupon/receive",method:"post",data:t})}function s(t,e){return(0,n.default)({url:"/api/coupons/order/"+e,method:"get",data:t})}},9038:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a481");var n=a(i("99c1")),o=a(i("562e")),r=i("8f25"),s={components:{uniLoadMore:n.default,empty:o.default},data:function(){return{tabCurrentIndex:0,navList:[{state:0,text:"全部",loadingType:"more",orderList:[],page:1,limit:10},{state:1,text:"未使用",loadingType:"more",orderList:[],page:1,limit:10},{state:2,text:"已使用",loadingType:"more",orderList:[],page:1,limit:10}]}},onLoad:function(t){this.loadData()},methods:{navTo:function(){uni.switchTab({url:"/pages/index/index"})},loadData:function(t){var e=this,i=this.tabCurrentIndex,a=this.navList[i];a.state;"tabChange"===t&&!0===a.loaded||"loading"!==a.loadingType&&(a.loadingType="loading",(0,r.getCouponsList)({page:a.page,limit:a.limit},i).then(function(t){var i=t.data,n=i.map(function(t){return t.coupon_price=+t.coupon_price.replace(",",""),t.use_min_price=+t.use_min_price.replace(",",""),t});a.orderList=a.orderList.concat(n),console.log(a.orderList),a.page++,a.limit!=i.length?(a.loadingType="noMore",uni.hideLoading(),e.$set(a,"loaded",!0)):a.loadingType="more"}).catch(function(t){console.log(t)}))},changeTab:function(t){this.tabCurrentIndex=t.target.current,this.loadData("tabChange")},tabClick:function(t){this.tabCurrentIndex=t}}};e.default=s},c2c4:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"navbar"},t._l(t.navList,function(e,a){return i("v-uni-view",{key:a,staticClass:"nav-item",class:{current:t.tabCurrentIndex===a},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabClick(a)}}},[t._v(t._s(e.text))])}),1),i("v-uni-swiper",{staticClass:"swiper-box",attrs:{current:t.tabCurrentIndex,duration:"300"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab.apply(void 0,arguments)}}},t._l(t.navList,function(e,a){return i("v-uni-swiper-item",{key:a,staticClass:"tab-content"},[!0===e.loaded&&0===e.orderList.length?i("empty"):t._e(),t._l(e.orderList,function(e,a){return i("v-uni-view",{key:a,staticClass:"row flex"},[i("v-uni-view",{staticClass:"list-money flex"},[i("v-uni-image",{attrs:{src:2==e._type?"/static/img/img03.png":"/static/img/img02.png",mode:"scaleToFill"}}),i("v-uni-view",{staticClass:"list-money-text"},[i("v-uni-view",{staticClass:"tit",class:{action:2==e._type}},[i("v-uni-text",[t._v(t._s(e.coupon_price))])],1),i("v-uni-view",{staticClass:"price"},[i("v-uni-text",[t._v("满"+t._s(e.use_min_price)+"元")])],1)],1)],1),i("v-uni-view",{staticClass:"list-interval position-relative"},[i("v-uni-view",{staticClass:"bottom"}),i("v-uni-view",{staticClass:"top"})],1),i("v-uni-view",{staticClass:"row_list_right"},[i("v-uni-view",{staticClass:"right_top"},[i("v-uni-text",{staticClass:"right_title",class:{action:2==e._type}},[t._v(t._s(e.coupon_title))])],1),i("v-uni-view",{staticClass:"right_time"},[i("v-uni-text",[t._v(t._s(e._add_time)+"-"+t._s(e._end_time))])],1),2==e._type?i("v-uni-view",{staticClass:"right_use action"},[i("v-uni-text",[t._v(t._s(e._msg))])],1):t._e(),0==e._type?i("v-uni-view",{staticClass:"right_use noAction"},[i("v-uni-text",[t._v(t._s(e._msg))])],1):t._e()],1)],1)}),i("uni-load-more",{attrs:{status:e.loadingType}})],2)}),1)],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},ca20:function(t,e,i){"use strict";var a=i("e603"),n=i.n(a);n.a},e603:function(t,e,i){var a=i("566c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3a19ff68",a,!0,{sourceMap:!1,shadowMode:!1})}}]);